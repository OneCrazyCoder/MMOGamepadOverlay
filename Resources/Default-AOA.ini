ParentProfile = MMOGO_AOA_Base

# Remove below line to stop automatic replacement by newer versions of the app
AutoGeneratedVersion = 0

###############################################################################
## BASIC CONTROLS
##
## This control scheme is designed to emulate that used by the PS2 MMO "EQOA".
##
## Additional actions not included in EQOA like Jump, Sit, and mouse-dependent
## tasks like inventory management needed to be added. These extra actions were
## added by assigning different actions for tapping vs holding a button, or to
## pressing a button while holding a modifier button (usually L2, such as
## "L2+D-Pad" for camera zoom). Some buttons will also change their behavior
## based on a current mode (namely Cursor Mode vs Action Mode).
##
## The below button name assignments should give an idea of the basic funtion
## of each button on the gamepad, with comments on their extra functionality.
###############################################################################

[ButtonNames]
# Left Analog Stick - Move character (turn or strafe depending on mode)
# Right Analog Stick - Move Camera / Turn / Move Mouse Cursor
# D-Pad - Navigate menus / hotbar / hotspots, L2+D-Pad = Mouse wheel / zoom
MenuConfirm = PS_X
# Hold for a moment to Sit
Cancel = Circle
# Acts as a toggle, unlike in EQOA
Attack = Square
# First switches to Action Mode if not already in it
Action = Triangle
# First switches to Cursor Mode, becomes Alt/Ctrl/Shift-click with L2/L1/R1
MouseClick = PS_X
# Hold+D-Pad for precise targeting, +R1 to Assist (see TARGET GROUP section)
TargetGroup = L1
# Targets players if holding L2, hold for a moment to Consider target
TargetOther = R1
# Hold to act as a modifier for some other buttons
QuickMenu = L2
# Acts as right mouse button in Cursor Mode
Interact = R2
# Lock any movement dir (aka auto-strafe-run) with L2+AutoRun
AutoRun = L3
# Duck by using L2+Jump
Jump = R3
# Quick open Inventory with L2+Menu, and bags with Hold L2+Menu
MainMenu = Start

###############################################################################

[Scheme]
AutoLayers = CursorMode
LStick = Move
RStick = Mouse
Attack = Attack
Tap Cancel = Cancel
Hold Cancel = Sit
Action = Replace CurrentMode with ActionMode
Press MouseClick = Replace CurrentMode with CursorMode
TargetGroup = Hold TargetGroup layer
Tap TargetGroup = TargetGroup default
TargetOther = Hold TargetOther layer
Tap TargetOther = TargetCycleNPC
QuickMenu = Hold Alt layer
Tap QuickMenu = Toggle Macros layer
Interact = RMB
Tap Interact = SignalRightClick
Tap AutoRun = AutoRun
Jump = Jump
MainMenu = Replace CurrentMode with MainMenu

# Alternate controls while holding L2
[Layer.Alt]
DPad = MouseWheel
Tap AutoRun = Lock movement
Jump = Crouch
Tap MainMenu = Inventory
Hold MainMenu = Bags

# This acts as a container layer to swap modes with a single "Replace Layer",
[Layer.CurrentMode]
Priority = 2
When TargetGroup = Add QuickAssist layer
When TargetGroup1 = Remove QuickAssist layer

# Just used to trigger combo layers - doesn't do anything on its own
[Layer.TargetOther]
Auto = Do nothing
[Layer.CamSteer]
Auto = Do nothing


###############################################################################
## ACTION MODE
##
## This mode can be accessed while in other modes by pressing <Action>.
##
## It allows controlling the camera with the right thumbstick and move+strafe
## with the left stick by activating Mouse Look (holding the right mouse
## button down continuously). You can also look around while using auto-run
## or auto-strafe-run (from L3 or L2+L3 respectively) without turning your
## character by holding L2 while using the right thumbstick.
##
## Most importantly, it also gives access to navigating the hotbar via the
## D-pad and using the current selection by pressing <Action>.
##
## A reticle is displayed while in this mode at the CenterScreen hotspot,
## allowing you to know where mouse clicks will occur when tap <Interact>.
## Tapping <Interact> left-clicks then right-clicks here, which can be used
## for opening doors, dealing with merchant/bank, and looting corpses without
## needing to switch to Cursor Mode first. This also does switch to Cursor
## Mode temporarily to facilitate looting, shopping, etc, however, entering
## Cursor Mode in this way causes any movement with LStick to automatically
## return back to Action Mode.
###############################################################################

[Layer.ActionMode]
Parent = CurrentMode
Mouse = Look
HUD = Hotbar, CenterScreenReticle
Auto = SignalActionModeStarted
LStick = MoveStrafe
DPad = Select item in Hotbar menu w/ wrap
Action = Confirm current selection in Hotbar menu
Tap Interact = Interact
When Interact = Replace CurrentMode with InteractMode
When LootTarget = Replace CurrentMode with InteractMode

# This allows auto camera rotation when strafe left or right, so can fully
# steer using only the left analog stick when CamSteer layer is active
[Layer.ActionMode+CamSteer]
LStick = MoveAndLook

# This allows quickly returning to action mode after <Interact> by just moving
# It also initially jumps the cursor to loot window for faster looting
[Layer.InteractMode]
Parent = CursorMode
Auto = Jump cursor to LootWindow1
When AutoRun = Replace CurrentMode with ActionMode
When Press LStick = Replace CurrentMode with ActionMode


###############################################################################
## CURSOR MODE
##
## This mode is usually accessed by pressing <MouseClick> or <Interact>.
##
## It allows moving the mouse cursor using the right analog stick, while still
## allowing movement with left stick (but turning instead of strafing).
##
## <MouseClick> then acts as the left mouse button, and <Interact> as the
## right mouse button. Use L2+<MouseClick> for alt-click, L1+<MouseClick> for
## ctrl-click, and R1+<MouseClick> for shift-click, for cases where those are
## needed (like selling an entire stack of items in one click).
## Simply holding L2 for a moment will display names of items in bags, etc. 
##
## The D-Pad is used to quickly jump the mouse cursor to defined "hotspots"
## (which is why the Abilities List is disabled in this mode), which can make
## navigating some UI windows easier (namely the Loot and Inventory windows).
##
## With the default setting of MouseClick = X, both it and the right analog
## stick are used by your right thumb. This makes using them together for
## left-click-and-drag quite awkward. To help with this, while holding
## <MouseClick> the left analog stick will control the mouse cursor as well.
###############################################################################

[Layer.CursorMode]
Parent = CurrentMode
Mouse = Cursor
Hotspots = Character Inventory LootWindow BagA BagB BagC BagD BagE BagF BagG BagH
DPad = Select Hotspot
MouseClick = LMB
Tap MouseClick = SignalLeftClick
Press MouseClick = Add DragLMB layer
Release MouseClick = Remove DragLMB layer

[Layer.DragLMB]
Parent = CursorMode
LStick = Mouse

[Layer.CursorMode+TargetGroup]
Just MouseClick = Ctrl-Click

[Layer.CursorMode+TargetOther]
Just MouseClick = Shift-Click

[Layer.Alt+CursorMode]
Just MouseClick = Alt-Click


###############################################################################
## TARGET GROUP
##
## Repeatedly tap <TargetGroup> to cycle through targeting your group members.
## Your own character is considered the first goup member, even when solo.
##
## Unfortunately, this app doesn't have any way of knowing your actual current
## group size, or what you might have targeted (since there are multiple ways
## of changing targets). This means that even when just in a 2-person group,
## you'd need to tapping <TargetGroup> 5 times to cycle back to yourself.
## It also means it is possible to target yourself, then click on another
## target, and then press <TargetGroup> again and it will target the second
## group member (meaning no one if solo!) when you meant to target yourself!
##
## To help solve the first problem, you can instead hold it and use the D-Pad
## for additional targeting options:
##
## <TargetGroup>+Up/Down = Target prev/next group member
## <TargetGroup>+Right = Re-target last targeted group member (i.e. their pet)
## <TargetGroup>+Left = Set group member as new "default" instead of yourself
##   (like main tank for healer or main assist for DPS)
##
## For the second problem, a visual indicator HUD element is used to show
## which group member was last targeted. That member will be used as the
## starting point for which to target next with further button presses. 
## The indicator will go away after using certain other commands that *could*
## result in a change of target (mouse clicks, target N/PC hotkeys, Esc to
## drop target, etc.) - though the app has no way of knowing for sure if these
## actually *did* change targets. Once this indicator is gone, the next press
## will restart at the default group target.
##
## You can also hold <TargetGroup> and press <TargetOther> to use Assist key.
## Alternatively, the first time you tap <TargetOther> after targeting any
## group member besides yourself will use Assist instead of TargetCycleNPC.
###############################################################################

[Layer.TargetGroup]
HUD = TargetGroupDefault
Just Tap TargetOther = Assist
DPad Up = Press previous key in TargetGroup array w/ wrapping
DPad Down = Press next key in TargetGroup array w/ wrapping
DPad Right = Re-press last key in TargetGroup array
DPad Left = Do nothing

[Layer.ShowLastGroupTarget]
HUD = TargetGroupLast
Release Auto = Reset last key in TargetGroup array to default
Just Tap TargetGroup = Press next key in TargetGroup array w/ wrapping
When TargetCycleNPC = Remove this layer
When TargetNearestNPC = Remove this layer
When Interact = Remove this layer
When Assist = Remove this layer
When Cancel = Remove this layer
When SignalLeftClick = Remove this layer
When SignalRightClick = Remove this layer

# Once last target is displayed, don't show default target while
# holding <TargetGroup> until/unless change it by pressing D-Left
[Layer.ShowLastGroupTarget+TargetGroup]
HUD = Hide TargetGroupDefault
DPad Left = Add ShowDefaultGroupTarget layer

# Show changed default target from pressing <TargetGroup>+D-Left
[Layer.ShowDefaultGroupTarget]
Parent = ShowLastGroupTarget+TargetGroup
HUD = Show TargetGroupDefault
Auto = Set TargetGroup array default to last key pressed
DPad Left = Set TargetGroup array default to last key pressed

# Quick Assist by tapping <TargetOther> after targeting a group member
# Also the method by which ShowLastGroupTarget activates (as parent layer)
[Layer.QuickAssist]
Parent = ShowLastGroupTarget
When Assist = Remove this layer
Just Tap TargetOther = Assist


###############################################################################
## MACROS MENU
##
## This special menu appears when tap the <QuickMenu> button (L2).
##
## Basically, each command is assigned a sequence of direction presses, by
## virtue of D-pad taps instantly selecting and confirming the command or
## sub-menu in the direction pressed.
##
## Edit/add/remove macros/sub-menus by holding a direction for a time.
##
## You can repeatedly use the same macro by pressing and holding <QuickMenu>
## once the menu is already open, which prevents it from closing when using
## the D-pad - instead closing when the button is released. You can also use
## the face buttons as an alternate to the D-pad when doing this, allowing you
## to spam a macro while still being able to move around with your thumb on
## the left analog stick intsead of the D-Pad.
###############################################################################

[Layer.Macros]
Parent = CurrentMode
Priority = 3
HUD = Macros
Auto = Reset Macros menu
Tap DPad = Choose option in Macros menu, then close it
Hold DPad 800 = Edit Macros menu option in direction
Just Tap Cancel = Go back in Macros menu
Just Release QuickMenu = Remove this layer
Action = Replace CurrentMode with ActionMode
MouseClick = Replace CurrentMode with CursorMode
MainMenu = Replace CurrentMode with MainMenu

[Layer.Macros+QuickMenu]
DPad = Choose option in Macros menu
FPad = Choose option in Macros menu


###############################################################################
## MAIN MENU
##
## Press the <MainMenu> button to bring up the Main Menu controlled here.
##
## D-pad scrolls through the menu options. Use the <MenuConfirm> button to
## activate a menu item or open a sub-menu, and use <Cancel> to back out of
## a sub-menu or to close this menu entirely.
##
## Some menu options will open an in-game UI window, like your Inventory.
## To interact with these, pressing RStick in any direction will exit the
## menu and switch to Cursor Mode. Because of this, Mouse Look is disabled
## and you must use the left analog stick to steer while using this menu.
###############################################################################

[Layer.MainMenu]
Parent = CurrentMode
Mouse = Cursor
HUD = MainMenu, OverlayMenu
Auto = Reset MainMenu with mouse
DPad = Select in MainMenu using wrapping and mouse
MenuConfirm = Confirm current selection in MainMenu w/ mouse click
Just Tap Cancel = Go back in MainMenu
Just Tap QuickMenu = Replace this layer with Macros
RStick = Replace CurrentMode with CursorMode
Interact = Replace CurrentMode with CursorMode
MainMenu = Replace CurrentMode with CursorMode
# Restore cursor to non-hidden status when about to exit the game
When Camp = Replace CurrentMode with CursorMode
When QuickExit = Replace CurrentMode with CursorMode

[Layer.OverlayMenu]
Parent = MainMenu
Mouse = Hide
Auto = Confirm OverlayMenu
Release Auto = Reset OverlayMenu
DPad = Select in OverlayMenu w/ wrap
MenuConfirm = Confirm current selection in OverlayMenu
Just Tap Cancel = Go back in OverlayMenu


###############################################################################
## KEY BINDS
###############################################################################

[KeyBinds]
Assist = LClick at AssistButton
LootTarget = /loot
Camp = /camp
QuickExit = Alt-F4
Interact = Jump cursor to CenterScreen, Left-Click, Right-Click
HotButtonPageUp = LClick at HotButtonPageUp
HotButtonPageDown = LClick at HotButtonPageDown
# Signal-only key binds used to automatically add or remove certain layers
SignalLeftClick = Signal Only
SignalRightClick = Signal Only
SignalActionModeStarted = Signal Only


###############################################################################
## HUD ELEMENTS
###############################################################################

[HUD.CenterScreenReticle]
Type = Hotspot
Hotspot = CenterScreen
Position = +0, +0
Alignment = CX, CY
ItemType = Dot
Size = 6, 6
BorderSize = 0
ItemRGB = 255, 255, 255
MaxAlpha = 128

[HUD.TargetGroupLast]
Type = KeyBindArrayLast
KeyBindArray = TargetGroup
Position = +0, +0
Size = 14, 14
Alignment = CX, CY
Priority = 2
ItemType = Circle
BorderSize = 1
BorderRGB = 10, 10, 10
ItemRGB = 240, 240, 40
FadeOutTime = 250

[HUD.TargetGroupDefault]
Type = KeyBindArrayDefault
KeyBindArray = TargetGroup
Position = +0, +0
Size = 20, 20
Alignment = CX, CY
ItemType = Circle
Priority = 1
BorderSize = 4
BorderRGB = 200, 200, 200
ItemRGB = 40, 40, 40
FadeInDelay = 500
FadeInTime = 125
FadeOutDelay = 500
FadeOutTime = 650


###############################################################################
## MENUS
###############################################################################

[Menu.MainMenu]
Style = Bar
Position = 4, 4
Alignment = L, T
TitleHeight = 0
ItemSize = 40, 46
GapSize = -4, 0
ItemRGB = 255, 0, 255
BorderRGB = 255, 0, 255
SelectedBorderRGB = 230, 230, 50
Back = Replace CurrentMode with CursorMode
D = : Add OverlayMenu layer
1 = :
2 = :
3 = : 
4 = :
5 = :
6 = :
7 = :
8 = :

[Menu.OverlayMenu]
Title = Overlay
Style = Grid
GridWidth = 3
Position = 0, 54
Alignment = L, T
ItemSize = 135, 34
FontSize = 10
FadeInTime = 125
FadeOutTime = 250
Back = Replace CurrentMode with CursorMode
1 = Menu

[Menu.OverlayMenu.Menu]
Back = Remove OverlayMenu layer
U = : Remove OverlayMenu layer
D = : Remove OverlayMenu layer
1 = Cam Steer:: <CamSteer>: Toggle CamSteer layer at startup
2 = Layout: Edit UI Layout
3 = Profile: Change Profile
4 = Toggle Windowed: SwapWindowMode
5 = Quit

[Menu.OverlayMenu.Menu.Quit]
1 = Camp: Camp
2 = Alt-F4
3 = Close Overlay

[Menu.OverlayMenu.Menu.Quit.Alt-F4]
1 = Cancel: ..
2 = Confirm: QuickExit
 
[Menu.OverlayMenu.Menu.Quit.Close Overlay]
1 = Cancel: ..
2 = Confirm: Quit App

[Menu.Hotbar]
Style = Bar
Position = CX+3, B-3
Alignment = CX, B
TitleHeight = 0
ItemSize = 48, 48
GapSize = 3, 0
ItemRGB = 255, 0, 255
BorderRGB = 255, 0, 255
SelectedBorderRGB = 230, 230, 50
1 = : HotButton1
2 = : HotButton2
3 = : HotButton3
4 = : HotButton4
5 = : HotButton5
6 = : HotButton6
7 = : HotButton7
8 = : HotButton8
9 = : HotButton9
10 =: HotButton10
U = : HotButtonPageUp
D = : HotButtonPageDown

[Menu.Macros]
Style = 4Dir
ItemType = Rect
Position = 50%, 10
ItemSize = 230, 40
FontSize = 16
FontWeight = 700
BorderSize = 4
Alignment = C, T
Priority = 5
FadeInTime = 125
FadeOutTime = 250
Back = Remove Macros layer
U = Quick
L = Commands
R = Group
D = Social

[Menu.Macros.Quick]
U = Hail: Hail
L = Warning
R = Incoming: /g Incoming -- %t -- !
D = Loot: LootTarget

[Menu.Macros.Quick.Warning]
U = Help!: >I need HELP!! Please save me!
L = Pop: /g Pop!
R = Adds: /g Add!
D = TRAIN!: /say Look out!!! TRAIN following me!

[Menu.Macros.Commands]
U = WhoTarget: /whotarget
L = Drag Corpse: /corpse
R = :
D = :

[Menu.Macros.Group]
U = Manage
L = :
R = Follow: /follow
D = Out of Mana: /g Out of mana!!

[Menu.Macros.Group.Manage]
U = Invite / Join: /invite
L = LFG
R = Make Leader: /makeleader
D = Leave: /leave

[Menu.Macros.Group.Manage.LFG]
U = LFG On: /lfg on
L = :
R = :
D = LFG Off: /lfg off

[Menu.Macros.Social]
U = Who: /who
L = Friends: /friends
R = Responses
D = Emotes

[Menu.Macros.Social.Responses]
U = Thanks: >Thank you!!
L = Sorry: >Sorry!! :(
R = More...
D = NP: >No problem!

[Menu.Macros.Social.Responses.More...]
U = :
L = :
R = :
D = :

[Menu.Macros.Social.Emotes]
U = Wave: /wave
L = Point: /point
R = Bow: /bow
D = More...

[Menu.Macros.Social.Emotes.More...]
U = :
L = :
R = :
D = :

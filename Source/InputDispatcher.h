//-----------------------------------------------------------------------------
//	Originally written by Taron Millet, except where otherwise noted
//-----------------------------------------------------------------------------

#pragma once

/*
	Coordinates and dispatches input actions to be sent to the target game.
	Manages input queues, processes actions, and handles overlapping inputs
	generated by the InputTranslator module.
*/

#include "Common.h"

namespace InputDispatcher
{

// Load configuration settings from current profile
void loadProfile();

// Clean up and prepares for app shutdown
void cleanup();

// Call once per frame to process the queue and dispatch input
void update();

// Sends the input for given command, for those that are valid
// as key inputs (see GlobalConstants.h)
void sendKeyCommand(const Command& theCommand);

// Adjusts speeds used in moveMouse and (if true) causes
// right mouse button to be held down indefinitely.
void setMouseLookMode(bool);

// Shift mouse mouse position relative to current position.
// Amount specified by dx/dy is in relation to mouse speed
// settings, and expected range of -255 to 255.
void moveMouse(int dx, int dy, bool digital);

// Send mouse wheel up/down motion. Expected range of -255 to 255.
// In cases where target app only responds to full "clicks" of the
// wheel at a time and not smaller movements, set 'stepped' = true,
// though it means the scroll motion will be much less smooth.
void scrollMouseWheel(int dy, bool digital, bool stepped = false);

// Sends a single mouse wheel "click" of up/down movement
void scrollMouseWheelOnce(ECommandDir);

// Move character forward, back, left, right, and turning.
// Amount specified for each movement type is -255 to 255 range.
void moveCharacter(int move, int turn, int strafe);

} // InputDispatcher
